<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Archives: 2017/6 | 尤鱼哥</title>
  <meta name="description" content="A minimal hexo theme." />
  <meta name="keywords" content="hexo,theme,typescript,otakism,otaku" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="尤鱼哥">
<meta property="og:url" content="http://www.youyuge.cn/archives/2017/06/index.html">
<meta property="og:site_name" content="尤鱼哥">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="尤鱼哥">
  
  
    <link rel="icon" href="/favicon.png">
  

	<script src="https://use.typekit.net/eyf3hir.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script>
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
  

</head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  Mr.鱿鱼的记忆罐头
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
	<aside id="site-menu">
  	<nav>
  		
        <a href="/" class="nav-home nav">
          Home
        </a>
      
        <a href="/2017/05/10/my_first_post_test/" class="nav-about nav">
          About
        </a>
      
        <a href="/archives" class="nav-archives nav">
          Archives
        </a>
      
    </nav>
	</aside>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      
	


	<section class="page-header archive">
    <h1>- <span>2017.6</span> -</h1>
  </section>




<section class="post-list">
	
    <article class="post ">

  
  <h2 class="title">
    <a href="/2017/06/04/dialog-made-by-myself/">
      Android开罐头———打造动漫二次元加载读取的自定义dialog
    </a>
  </h2>
  
  <time>
    Jun 4, 2017
  </time>
  <section class="content">
	  <blockquote>
<p>自定义dialog当然已经被写烂咯，本文的重点是很方便地获取二次元动漫动图。自带的progress dialog看腻了吗？来换个和bilibili一样的动漫二次元加载吧！</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/3251332-0a4a2ecf5045956f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h2 id="一、动画来源获取"><a href="#一、动画来源获取" class="headerlink" title="一、动画来源获取"></a>一、动画来源获取</h2><h3 id="1-1-来源简介"><a href="#1-1-来源简介" class="headerlink" title="1.1 来源简介"></a>1.1 来源简介</h3><p>先来预览下效果咯：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3251332-cf0e9d7cf8e540b0.gif?imageMogr2/auto-orient/strip" alt="yicha3.gif"></p>
<p>很萌很萌吧！！！loading动画当然还是帧动画咯，由于是二次元，<a href="https://www.pixiv.net" target="_blank" rel="external">pixiv</a>（俗称p站）可谓是动漫图片最多的站点了，上面有数以亿计的动漫图片和动图。</p>
<blockquote>
<p><a href="https://www.pixiv.net" target="_blank" rel="external">pixiv</a> :新兴的日本同人画、插画作品分享站点。<br>采用了web2.0的方式，每个参与者都有自己的主页并可以对作品评价打分。</p>
</blockquote>
<p>但是由于版权的保护性政策，动图是无法直接下载到gif的，所以我们必须通过一些非常规手段获取，巧合的是，获取到的是<strong>动画帧的图片压缩包</strong>，所以可以直接拿来当做安卓开发的帧动画使用！</p>
<h3 id="1-2-动画帧获取"><a href="#1-2-动画帧获取" class="headerlink" title="1.2 动画帧获取"></a>1.2 动画帧获取</h3><p>p站如今支持中文，所以阅读上没有了障碍，大家可以搜索自己喜欢主题的动图，或者直接去每日排行榜获取高人气动图，我们以此<a href="https://www.pixiv.net/member_illust.php?mode=medium&amp;illust_id=63136752" target="_blank" rel="external">链接</a>  为例。</p>
<ul>
<li>使用chrome内核的浏览器，右键选择检查：<br><img src="http://upload-images.jianshu.io/upload_images/3251332-e35f5a384ebc667e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></li>
</ul>
<ul>
<li>进入开发者工具界面后，按下<code>Ctrl+F</code>（<code>Command+F</code>）搜索关键词<code>zip</code>,其实已经可以看到我们要的下载链接了，但是不能直接复制，必须选中整个段落后，右键copy到文本编辑器中。<br><img src="http://upload-images.jianshu.io/upload_images/3251332-35a89ff7827c0ee5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></li>
</ul>
<ul>
<li><p>在文本编辑器中，删除所有的转义字符<code>\</code>后，复制名字里<strong>带有600x600的那个zip</strong>链接，然后粘贴到浏览器或者迅雷中下载。<br><img src="http://upload-images.jianshu.io/upload_images/3251332-77159101be8c7e3a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
</li>
<li><p>解压后即可获得动画帧图片，顺序为名称。<br><img src="http://upload-images.jianshu.io/upload_images/3251332-721cb0b27c4b0948.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
</li>
</ul>
<hr>
<p>###警告：<em>pixiv站点所有图片拥有版权©️，商用请联系原作者，下载仅仅是个人学习参考之用。</em></p>
<h2 id="二、帧动画xml文件的建立"><a href="#二、帧动画xml文件的建立" class="headerlink" title="二、帧动画xml文件的建立"></a>二、帧动画xml文件的建立</h2><p>怕是没有人不会吧，直接贴代码了，具体的duration根据实际情况自己调节：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">&lt;animation-list</div><div class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">    android:oneshot=&quot;false&quot;</div><div class="line">&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_1&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_2&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_3&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_4&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_5&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_6&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_7&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">    &lt;item</div><div class="line">        android:drawable=&quot;@drawable/loading_8&quot;</div><div class="line">        android:duration=&quot;100&quot;</div><div class="line">    /&gt;</div><div class="line">&lt;/animation-list&gt;</div></pre></td></tr></table></figure>
<h2 id="三、自定义dialog的建立"><a href="#三、自定义dialog的建立" class="headerlink" title="三、自定义dialog的建立"></a>三、自定义dialog的建立</h2><h3 id="3-1-Dialog概念"><a href="#3-1-Dialog概念" class="headerlink" title="3.1 Dialog概念"></a>3.1 Dialog概念</h3><p>dialog的官方定义：</p>
<blockquote>
<p>A dialog is a small window that prompts the user to make a decision or enter additional information. A dialog does not fill the screen and is normally used for modal events that require users to take an action before they can proceed.</p>
</blockquote>
<p>先来了解下什么是Window：</p>
<blockquote>
<p>Window表示窗口的概念，它实际上是View的直接管理者，包括View的视图创建，事件分发机制都必须先经过Window。</p>
</blockquote>
<p>自定义Dialog，要先明确Dialog的地位。 </p>
<ul>
<li>View是android中视图的呈现方式，但是View不能单独存在，必须依附在Window窗口这个抽象概念上，而Android中提供视图的地方有Activity，Dialog，Toast。</li>
<li>所以某种程度上来说，Dialog是和活动平起平坐的，Dialog的Window创建过程与Activity类似（几乎没区别），所以Dialog也有setContentView方法。具体的创建过程可以参考《Android开发艺术探索》这本书。</li>
</ul>
<p>所以我们在后面想要管理Dialog的对话框大小就必须使用WindowManager类，而不是去设置父布局的params。</p>
<h3 id="3-2-建立dialog布局文件"><a href="#3-2-建立dialog布局文件" class="headerlink" title="3.2 建立dialog布局文件"></a>3.2 建立dialog布局文件</h3><p>直接上代码了，注意，我直接在布局最外层设定了固定的大小，且使用了一个圆角半透明矩形shape作为背景。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">    android:layout_width=&quot;120dp&quot;</div><div class="line">    android:layout_height=&quot;120dp&quot;</div><div class="line">    android:layout_gravity=&quot;center_horizontal&quot;</div><div class="line">    android:background=&quot;@drawable/shape_dialog_bg&quot;</div><div class="line">    android:layout_centerInParent=&quot;true&quot;</div><div class="line">    android:orientation=&quot;vertical&quot;&gt;</div><div class="line"></div><div class="line">    &lt;RelativeLayout</div><div class="line">        android:layout_width=&quot;match_parent&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:layout_marginTop=&quot;10dp&quot;&gt;</div><div class="line"></div><div class="line">        &lt;ImageView</div><div class="line">            android:id=&quot;@+id/loading_view&quot;</div><div class="line">            android:layout_width=&quot;85dp&quot;</div><div class="line">            android:layout_height=&quot;85dp&quot;</div><div class="line">            android:scaleType=&quot;fitCenter&quot;</div><div class="line">            android:layout_centerInParent=&quot;true&quot;</div><div class="line">            android:src=&quot;@drawable/loading_data_anim&quot;</div><div class="line">            /&gt;</div><div class="line"></div><div class="line">    &lt;/RelativeLayout&gt;</div><div class="line"></div><div class="line">    &lt;TextView</div><div class="line">        android:id=&quot;@+id/tv_load_dialog&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:layout_gravity=&quot;center_horizontal&quot;</div><div class="line">        android:text=&quot;读取中……&quot;</div><div class="line">        android:layout_marginTop=&quot;5dp&quot;</div><div class="line">        android:textColor=&quot;@color/color_666666&quot;</div><div class="line">        android:textSize=&quot;12sp&quot;/&gt;</div><div class="line"></div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure>
<p>效果图：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3251332-b44183397d751da8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="3-3-自定义dialog的建立"><a href="#3-3-自定义dialog的建立" class="headerlink" title="3.3 自定义dialog的建立"></a>3.3 自定义dialog的建立</h3><p> 我们新建一个类<code>LoadingDialog</code>继承自<code>Dialog</code>,初始化布局参数：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">private void initView() &#123;</div><div class="line">       setContentView(R.layout.dialog_loading_layout);</div><div class="line">       imageView = (ImageView) findViewById(R.id.loading_view);</div><div class="line">       //启动我们的二次元帧动画</div><div class="line">       AnimationDrawable animationDrawable = (AnimationDrawable) imageView.getDrawable();</div><div class="line">       animationDrawable.start();</div><div class="line"></div><div class="line"></div><div class="line">	//获取WindowManager.LayoutParams来管理dialog最外部window的大小，理由在3.1			节中已经说明。其实这里不用设置，因为我们在布局最外层指定了居中，且设为固定大小 			后对话框最外层布局会自适应（但是android5.0以上默认最外布局match_parent）。			</div><div class="line">       WindowManager.LayoutParams params = getWindow().getAttributes();</div><div class="line">       params.gravity = Gravity.CENTER;</div><div class="line">       params.width = WindowManager.LayoutParams.WRAP_CONTENT;</div><div class="line">       params.height = WindowManager.LayoutParams.WRAP_CONTENT;</div><div class="line">       getWindow().setAttributes(params);</div><div class="line"></div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>但是坑来了，尽管我们设定了最外层布局为WRAP_CONTENT，但是它是默认白色的背景，所以我们的圆角矩形效果就失效了，借<a href="http://www.jianshu.com/p/64446940eccf" target="_blank" rel="external">@青蛙要fly</a>的一张图，如果设定background为黑色则效果更加直观：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1529568-9fffbcbdcbf3f624.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>解决的办法很简单，直接覆盖重写dialog style里的透明属性即可，另外，使用兼容包的dialog样式默认没有Title了，但是这里还是覆写一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;style name=&quot;dialog_no_title&quot; parent=&quot;Theme.AppCompat.Dialog&quot;&gt;</div><div class="line">        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</div><div class="line">        &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;</div><div class="line">    &lt;/style&gt;</div></pre></td></tr></table></figure>
<p>在构造函数中传入我们的新style（dialog提供了这个构造方法）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">public LoadingDialog(Context context) &#123;</div><div class="line">        super(context,R.style.LoadingDialog);</div><div class="line">        mContext=context;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>最后我们的自定义dialog就已经完成了,贴上完整代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">public class LoadingDialog extends Dialog &#123;</div><div class="line">    private Context mContext;</div><div class="line">    ImageView imageView;</div><div class="line"></div><div class="line">    public LoadingDialog(Context context) &#123;</div><div class="line">        super(context,R.style.LoadingDialog);</div><div class="line">        mContext=context;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        initView();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private void initView() &#123;</div><div class="line">        setContentView(R.layout.dialog_loading_layout);</div><div class="line">        imageView = (ImageView) findViewById(R.id.loading_view);</div><div class="line">        AnimationDrawable animationDrawable = (AnimationDrawable) imageView.getDrawable();</div><div class="line">        animationDrawable.start();</div><div class="line"></div><div class="line"></div><div class="line">        WindowManager.LayoutParams params = getWindow().getAttributes();</div><div class="line">        params.width = WindowManager.LayoutParams.WRAP_CONTENT;</div><div class="line">        params.height = WindowManager.LayoutParams.WRAP_CONTENT;</div><div class="line">        getWindow().setAttributes(params);</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void dismiss() &#123;</div><div class="line">        super.dismiss();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="四、封装构建Dialog管理类"><a href="#四、封装构建Dialog管理类" class="headerlink" title="四、封装构建Dialog管理类"></a>四、封装构建Dialog管理类</h2><p>为了效率和复用性，我们使用单例模式封装一个线程安全的<code>DialogManger</code>类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">public class DialogManager &#123;</div><div class="line"></div><div class="line">    private static DialogManager mInstnce = null;</div><div class="line">    private ProgressDialog mDialog;</div><div class="line"></div><div class="line">    public static DialogManager getInstnce() &#123;</div><div class="line"></div><div class="line">        if (mInstnce == null) &#123;</div><div class="line">            //线程安全模式</div><div class="line">            synchronized (DialogManager.class) &#123;</div><div class="line">                if (mInstnce == null) &#123;</div><div class="line">                    mInstnce = new DialogManager();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return mInstnce;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void showProgressDialog(Context context) &#123;</div><div class="line"></div><div class="line">        if (mDialog == null) &#123;</div><div class="line">            mDialog = new ProgressDialog(context);</div><div class="line">            //设置点击dialog外部，不会自动退出dialog</div><div class="line">            mDialog.setCanceledOnTouchOutside(false);</div><div class="line">        &#125;</div><div class="line">        mDialog.show();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void dismissProgressDialog() &#123;</div><div class="line"></div><div class="line">        if (mDialog != null) &#123;</div><div class="line">            mDialog.dismiss();</div><div class="line">        &#125;</div><div class="line">        mDialog = null;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样，我们就可以一句话调出和取消读取界面了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//显示</div><div class="line">     DialogManager.getInstnce().showProgressDialog(this);</div><div class="line">      //取消显示</div><div class="line">     DialogManager.getInstnce().dismissProgressDialog();</div></pre></td></tr></table></figure>
<h2 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h2><p>其实整个过程非常简单，就是理解window类，然后自定义一个dialog，然后在dialog中启动帧动画，有些老生常谈的坑需要注意罢了。再来看一眼我们萌萌的loading动画吧：<br><img src="http://upload-images.jianshu.io/upload_images/3251332-cf0e9d7cf8e540b0.gif?imageMogr2/auto-orient/strip" alt="yicha3.gif"></p>


    
    
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2017/06/02/storage-explaination/">
      Android开罐头———外部存储与内部存储完全解析
    </a>
  </h2>
  
  <time>
    Jun 2, 2017
  </time>
  <section class="content">
	  <blockquote>
<p>context.getExternalFilesDir(),Environment.getExternalStorageDirectory()，傻傻分不清？到底什么算安卓手机的external storage？</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/3251332-ee02f7debaf417c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h2 id="一、存储概述"><a href="#一、存储概述" class="headerlink" title="一、存储概述"></a>一、存储概述</h2><p>Android提供了几种保存application持久化数据的选择。而开发者根据</p>
<ul>
<li>数据是否为app私有</li>
<li>数据是否可以暴露给其他app</li>
<li>数据大小情况</li>
</ul>
<p>来选择不同的方式存储数据。<br>

    
	  <div class="readmore">
      <a href="/2017/06/02/storage-explaination/">Read More</a>
    </div>
    
    
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2017/06/01/Android_ShapeDrawable/">
      Android罐头————ShapeDrawable详解
    </a>
  </h2>
  
  <time>
    Jun 1, 2017
  </time>
  <section class="content">
	  <blockquote>
<p>本文对<code>shape</code>这种<code>drawable</code>详细解析，从而可以简单地实现渐变，圆角矩形等等效果的背景。最后有示例。</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/3251332-a916aa59f030df50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>Drawable种类繁多，<code>ShapeDrawable</code> 是一种很常见的Drawable,可以理解为<strong>通过颜色来构造的图形，它既可以是纯色的图形，也可以是具有渐变效果的图形。</strong>  </p>

    
	  <div class="readmore">
      <a href="/2017/06/01/Android_ShapeDrawable/">Read More</a>
    </div>
    
    
    

  </section>
</article>
  
</section>



      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  
	<div class="search">
	  <form name="searchform" id="searchform" class="u-search-form">
	    <input type="text" id="searchinput" class="u-search-input" placeholder="Looking for something?" />
	    <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit">
	      <span class="icon icon-search"></span>
	    </button>
	  </form>
	</div>
	

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/youyuge34" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="http://weibo.com/1806842090/" class="social sina-weibo"
          target="_blank" rel="external">
          <span class="icon icon-sina-weibo"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div>
  <div>&copy; <a href="/">尤鱼哥</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
  </div>

  



<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>

<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
